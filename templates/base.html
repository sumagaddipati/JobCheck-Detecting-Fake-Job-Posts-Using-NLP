<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ title if title else "JobShield AI" }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-950 text-slate-200 min-h-screen flex">

  <!-- SIDEBAR -->
  <aside class="w-64 bg-slate-900 flex flex-col justify-between">

    <div>
      <div class="px-6 py-5 text-xl font-bold text-green-400 border-b border-slate-800">
        JobShield AI
      </div>

      <nav class="mt-4">

        <!-- Analyze -->
        <a href="/"
           class="block px-6 py-3 hover:bg-slate-800
           {{ 'bg-slate-800 text-green-400' if active=='analyze' else '' }}">
          ğŸ§  Analyze Job
        </a>

        <!-- Dashboard -->
        <a href="/dashboard"
           class="block px-6 py-3 hover:bg-slate-800
           {{ 'bg-slate-800 text-green-400' if active=='dashboard' else '' }}">
          ğŸ“Š Dashboard
        </a>

        <!-- Profile (ALL ROLES) -->
        <a href="/profile"
           class="block px-6 py-3 hover:bg-slate-800
           {{ 'bg-slate-800 text-green-400' if active=='profile' else '' }}">
          ğŸ‘¤ Profile
        </a>
        <a href="/about"
          class="block px-6 py-3 hover:bg-slate-800
           {{ 'bg-slate-800 text-green-400' if active=='about' else '' }}">
          â„¹ï¸ About JobShield AI
        </a>


        <!-- Admin / SuperAdmin -->
        {% if role in ["ADMIN", "SUPERADMIN"] %}
        <a href="/admin/download/users/pdf"
           class="block px-6 py-3 hover:bg-slate-800">
          â¬‡ï¸ Download Users (PDF)
        </a>
        {% endif %}

      </nav>
    </div>

    <!-- LOGOUT -->
    <div class="px-6 py-4 border-t border-slate-800">
      <a href="/logout" class="text-red-400 hover:text-red-500">
        ğŸšª Logout
      </a>
    </div>

  </aside>

  <!-- MAIN CONTENT -->
  <main class="flex-1 p-10 overflow-y-auto">

    <!-- FLASH MESSAGES -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="mb-4 p-4 rounded text-white
               {% if category == 'error' %} bg-red-600
               {% else %} bg-green-600 {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

</body>
</html>
